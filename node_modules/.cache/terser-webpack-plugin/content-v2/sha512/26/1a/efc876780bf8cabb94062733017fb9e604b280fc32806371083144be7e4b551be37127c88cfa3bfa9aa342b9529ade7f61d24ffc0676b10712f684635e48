{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{658:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"Consents\",function(){return u});var s=n(0),l=n(1),c=n(2),a=n(8),i=n(3),d=n(6),o=n(10),r=n(98),m=n(182),p=n(21);let u=class extends l.Component{constructor(){super(...arguments),this.selectedID=i.w.currentLocation.split(\"/\")[1]}get canEdit(){return i.A.currentUser.canEditTreatments}get selectedIndex(){return o.Q.list.findIndex(e=>e._id===this.selectedID)}get selectedConsent(){return o.Q.list[this.selectedIndex]}render(){return l.createElement(\"div\",{className:\"tc-pg p-15 p-l-10 p-r-10\"},l.createElement(d.d,{onDelete:this.canEdit?e=>{o.Q.deleteModal(e)}:void 0,commands:this.canEdit?[{key:\"addNew\",title:\"Add new\",name:Object(i.z)(\"Add new\"),onClick:()=>{const e=new o.h;o.Q.list.push(e),this.selectedID=e._id},iconProps:{iconName:\"Add\"}}]:[],heads:[Object(i.z)(\"Consent ID\"),Object(i.z)(\"Title\")],rows:o.Q.list.map(e=>({id:e._id,searchableString:e.title,cells:[{dataValue:e._id,component:l.createElement(\"span\",null,l.createElement(\"b\",null,\" \",e._id,\" \")),onClick:()=>{this.selectedID=e._id},className:\"no-label\"},{dataValue:e._id,component:l.createElement(\"span\",null,e.title?JSON.parse(e.title).blocks[0].text:\"\"),className:\"hidden-xs\"},{dataValue:e._id,component:l.createElement(r.a,{iconProps:{iconName:\"Edit\"}}),onClick:()=>{this.selectedID=e._id},className:\"no-label\"}]})),maxItemsOnLoad:20}),this.selectedConsent?l.createElement(m.a,{isOpen:!!this.selectedConsent,type:p.a.medium,closeButtonAriaLabel:\"Close\",isLightDismiss:!0,onDismiss:()=>{this.selectedID=\"\"},onRenderNavigation:()=>l.createElement(d.k,{className:\"panel-heading\"},l.createElement(d.c,{span:20}),l.createElement(d.c,{span:4,className:\"close\"},l.createElement(r.a,{iconProps:{iconName:\"cancel\"},onClick:()=>{this.selectedID=\"\"}})))},l.createElement(d.a,{key:\"\",loader:()=>s.b(this,void 0,void 0,function*(){const e=(yield Promise.all([n.e(10),n.e(34)]).then(n.bind(null,531))).ConsentsDetailsPanel;return l.createElement(e,{consent:this.selectedConsent,selected:this.selectedIndex})})})):\"\")}};s.c([c.k],u.prototype,\"selectedID\",void 0),s.c([c.d],u.prototype,\"canEdit\",null),s.c([c.d],u.prototype,\"selectedIndex\",null),s.c([c.d],u.prototype,\"selectedConsent\",null),u=s.c([a.a],u)}}]);","extractedComments":[]}