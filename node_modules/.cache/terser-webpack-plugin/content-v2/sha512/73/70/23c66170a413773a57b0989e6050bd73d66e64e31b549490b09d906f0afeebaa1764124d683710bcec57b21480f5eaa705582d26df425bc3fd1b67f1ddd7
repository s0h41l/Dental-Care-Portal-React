{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{299:function(e,t,a){\"use strict\";var n=a(156),r=a(0),o=a(1),l=a(157),c=a(46),s=a(49),i=a(65),d=a(178),m=a(187),u=Object(l.a)(),h=function(e){function t(t){var a=e.call(this,t)||this;return a._toggleButton=o.createRef(),a._onClick=function(e){var t=a.props,n=t.disabled,r=t.checked,o=t.onChange,l=t.onChanged,c=t.onClick,s=a.state.checked;n||(void 0===r&&a.setState({checked:!s}),o&&o(e,!s),l&&l(!s),c&&c(e))},a._warnMutuallyExclusive({checked:\"defaultChecked\"}),a._warnDeprecations({onAriaLabel:\"ariaLabel\",offAriaLabel:void 0,onChanged:\"onChange\"}),a.state={checked:!(!t.checked&&!t.defaultChecked)},a._id=t.id||Object(c.c)(\"Toggle\"),a}return r.d(t,e),Object.defineProperty(t.prototype,\"checked\",{get:function(){return this.state.checked},enumerable:!0,configurable:!0}),t.prototype.componentWillReceiveProps=function(e){void 0!==e.checked&&this.setState({checked:!!e.checked})},t.prototype.render=function(){var e=this,t=this.props,a=t.as,n=void 0===a?\"div\":a,l=t.className,c=t.theme,i=t.disabled,h=t.keytipProps,p=t.label,y=t.ariaLabel,b=t.onAriaLabel,f=t.offAriaLabel,g=t.offText,N=t.onText,k=t.styles,v=t.inlineLabel,C=this.state.checked,E=C?N:g,w=C?b:f,x=Object(s.d)(this.props,s.g,[\"defaultChecked\"]),D=u(k,{theme:c,className:l,disabled:i,checked:C,inlineLabel:v,onOffMissing:!N&&!g});return o.createElement(n,{className:D.root,hidden:x.hidden},p&&o.createElement(d.a,{htmlFor:this._id,className:D.label},p),o.createElement(\"div\",{className:D.container},o.createElement(m.a,{keytipProps:h,ariaDescribedBy:x[\"aria-describedby\"],disabled:i},function(t){return o.createElement(\"button\",r.a({},x,t,{className:D.pill,disabled:i,id:e._id,type:\"button\",role:\"switch\",ref:e._toggleButton,\"aria-disabled\":i,\"aria-checked\":C,\"aria-label\":y||w,\"data-is-focusable\":!0,onChange:e._noop,onClick:e._onClick}),o.createElement(\"div\",{className:D.thumb}))}),E&&o.createElement(d.a,{className:D.text},E)))},t.prototype.focus=function(){this._toggleButton.current&&this._toggleButton.current.focus()},t.prototype._noop=function(){},t}(i.a),p=a(9);a.d(t,\"a\",function(){return y});var y=Object(n.a)(h,function(e){var t,a,n,r,o,l,c,s=e.theme,i=e.className,d=e.disabled,m=e.checked,u=e.inlineLabel,h=e.onOffMissing,y=s.semanticColors,b=y.bodyBackground,f=y.inputBackgroundChecked,g=y.inputBackgroundCheckedHovered,N=y.disabledBodySubtext,k=y.inputBorderHovered,v=y.inputForegroundChecked,C=y.disabledBodySubtext,E=y.disabledBackground,w=y.smallInputBorder,x=y.inputBorderHovered,D=y.disabledBodySubtext,T=y.disabledText;return{root:[\"ms-Toggle\",m&&\"is-checked\",!d&&\"is-enabled\",d&&\"is-disabled\",s.fonts.medium,{marginBottom:\"8px\"},u&&{display:\"flex\",alignItems:\"center\"},i],label:[\"ms-Toggle-label\",d&&{color:T,selectors:(t={},t[p.f]={color:\"GrayText\"},t)},u&&!h&&{marginRight:16},h&&u&&{order:1,marginLeft:16}],container:[\"ms-Toggle-innerContainer\",{display:\"inline-flex\",position:\"relative\"}],pill:[\"ms-Toggle-background\",Object(p.t)(s,-3),{fontSize:\"20px\",boxSizing:\"border-box\",width:\"2.2em\",height:\"1em\",borderRadius:\"1em\",transition:\"all 0.1s ease\",borderWidth:\"1px\",borderStyle:\"solid\",background:b,borderColor:w,cursor:\"pointer\",display:\"flex\",alignItems:\"center\",padding:\"0 .2em\"},!d&&[!m&&{selectors:{\":hover\":[{borderColor:x}],\":hover .ms-Toggle-thumb\":[{selectors:(a={},a[p.f]={borderColor:\"Highlight\"},a)}]}},m&&[{background:f,borderColor:\"transparent\",justifyContent:\"flex-end\"},{selectors:(n={\":hover\":[{backgroundColor:g,borderColor:\"transparent\",selectors:(r={},r[p.f]={backgroundColor:\"Highlight\"},r)}]},n[p.f]={backgroundColor:\"WindowText\"},n)}]],d&&[{cursor:\"default\"},!m&&[{borderColor:D}],m&&[{backgroundColor:N,borderColor:\"transparent\",justifyContent:\"flex-end\"}]],!d&&{selectors:{\"&:hover\":{selectors:(o={},o[p.f]={borderColor:\"Highlight\"},o)}}}],thumb:[\"ms-Toggle-thumb\",{width:\".5em\",height:\".5em\",borderRadius:\".5em\",transition:\"all 0.1s ease\",backgroundColor:k,borderColor:\"transparent\",borderWidth:\".28em\",borderStyle:\"solid\",boxSizing:\"border-box\"},!d&&m&&[{backgroundColor:v,selectors:(l={},l[p.f]={backgroundColor:\"Window\",borderColor:\"Window\"},l)}],d&&[!m&&[{backgroundColor:C}],m&&[{backgroundColor:E}]]],text:[\"ms-Toggle-stateText\",{selectors:{\"&&\":{padding:\"0\",margin:\"0 8px\",userSelect:\"none\"}}},d&&{selectors:{\"&&\":{color:T,selectors:(c={},c[p.f]={color:\"GrayText\"},c)}}}]}},void 0,{scope:\"Toggle\"})},645:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"CalendarPage\",function(){return p});var n=a(0),r=a(6),o=a(3),l=a(10),c=a(4),s=a(2),i=a(8),d=a(299),m=a(177),u=a(175),h=a(1);let p=class extends h.Component{constructor(){super(...arguments),this.filter=\"\",this.appointment=null,this.showAll=!0}componentDidMount(){this.unifyHeight();const e=o.w.currentLocation.split(\"/\")[1];if(!e)return;const t=e.split(/\\W/);l.N.selectedYear=Object(c.r)(t[0]),l.N.selectedMonth=Object(c.r)(t[1])-1,l.N.selectedDay=Object(c.r)(t[2])}componentDidUpdate(){this.unifyHeight()}unifyHeight(){if(!document.getElementById(\"full-day-cols\"))return;const e=document.getElementsByClassName(\"full-day-col\");let t=0;for(let a=0;a<e.length;a++){const n=e[a].clientHeight;n>t&&(t=n)}for(let a=0;a<e.length;a++)e[a].style.minHeight=t?t+\"px\":\"auto\"}render(){return h.createElement(\"div\",{className:\"calendar-component container-fluid\"},h.createElement(\"div\",{className:\"selector year-selector\"},h.createElement(r.k,null,[l.N.currentYear-2,l.N.currentYear-1,l.N.currentYear,l.N.currentYear+1].map(e=>h.createElement(r.c,{key:e,span:6,className:\"centered\"},h.createElement(\"a\",{onClick:()=>{l.N.selectedYear=e,l.N.selectedMonth=0,l.N.selectedDay=1},className:(l.N.selectedYear===e?\"selected\":\"\")+(l.N.currentYear===e?\" current\":\"\")},e))))),h.createElement(\"div\",{className:\"selector month-selector\"},h.createElement(r.k,null,c.c.monthsShort().map((e,t)=>h.createElement(r.c,{key:e,sm:2,xs:4,className:\"centered\"},h.createElement(\"a\",{onClick:()=>{l.N.selectedMonth=t,l.N.selectedDay=1},className:(l.N.selectedMonth===t?\"selected\":\"\")+(l.N.currentMonth===t&&l.N.currentYear===l.N.selectedYear?\" current\":\"\")},e))))),h.createElement(\"div\",{className:\"selector day-selector\"},h.createElement(\"div\",{className:\"day-selector-wrapper\"},h.createElement(\"div\",null,l.N.selectedMonthDays.map(e=>h.createElement(\"div\",{key:e.dateNum,onClick:()=>{l.N.selectedDay=e.dateNum,setTimeout(()=>{scroll(0,this.findPos(document.getElementById(\"day_\"+e.dateNum)))},0)},className:\"day-col\"+(l.N.selectedDay===e.dateNum?\" selected\":\"\")+(-1===o.A.currentUser.onDutyDays.indexOf(e.weekDay.dayLiteral)?\" holiday\":\"\")+(e.weekDay.isWeekend?\" weekend\":\"\")},h.createElement(\"div\",{className:\"day-name\"},Object(o.z)(e.weekDay.dayLiteralShort.substr(0,2).toUpperCase())),h.createElement(\"a\",{className:\"day-number info-row\"+(e.dateNum===l.N.currentDay&&l.N.currentMonth===l.N.selectedMonth&&l.N.selectedYear===l.N.currentYear?\" current\":\"\")},e.dateNum)))),h.createElement(\"div\",null,l.N.selectedMonthDays.map(e=>{const t=l.K.appointmentsForDay(l.N.selectedYear,l.N.selectedMonth+1,e.dateNum,void 0,this.showAll?void 0:o.A.currentUser._id).length;return h.createElement(\"div\",{key:e.dateNum,onClick:()=>{l.N.selectedDay=e.dateNum},className:\"day-col\"+(l.N.selectedDay===e.dateNum?\" selected\":\"\")+(-1===o.A.currentUser.onDutyDays.indexOf(e.weekDay.dayLiteral)?\" holiday\":\"\")+(e.weekDay.isWeekend?\" weekend\":\"\")},h.createElement(\"div\",{className:\"info-row appointments-num num-\"+t},t))})))),h.createElement(\"div\",{className:\"week-view\"},h.createElement(\"div\",{className:\"filters\"},h.createElement(r.k,null,h.createElement(r.c,{sm:12,md:6,xs:24},h.createElement(d.a,{defaultChecked:this.showAll,onText:Object(o.z)(\"All appointments\"),offText:Object(o.z)(\"My appointments only\"),onChange:(e,t)=>{this.showAll=t}})),h.createElement(r.c,{sm:12,md:18,xs:0,className:\"filter\"},h.createElement(m.a,{placeholder:Object(o.z)(\"Type to filter\"),onChange:(e,t)=>this.filter=t})))),h.createElement(\"div\",{id:\"full-day-cols\"},l.N.selectedWeekDays.map(e=>h.createElement(\"div\",{key:e.dateNum,id:\"day_\"+e.dateNum,className:\"full-day-col\"+(-1===o.A.currentUser.onDutyDays.indexOf(e.weekDay.dayLiteral)?\" holiday\":\"\")+(l.N.selectedDay===e.dateNum?\" selected\":\"\"),onClick:()=>{l.N.selectedDay=e.dateNum},style:{width:(100/l.N.selectedWeekDays.length).toString()+\"%\"}},h.createElement(\"h4\",null,h.createElement(\"b\",null,e.dateNum),\"   \",h.createElement(\"span\",{className:\"day-name\"},Object(o.z)(e.weekDay.dayLiteral))),l.K.appointmentsForDay(l.N.selectedYear,l.N.selectedMonth+1,e.dateNum,this.filter,this.showAll?void 0:o.A.currentUser._id).sort((e,t)=>e.date-t.date).map(e=>h.createElement(\"div\",{key:e._id,className:\"appointment\",onClick:()=>{this.appointment=l.K.list[l.K.getIndexByID(e._id)]}},h.createElement(\"div\",{className:\"time\"},e.formattedTime),h.createElement(\"div\",{className:\"m-b-5\"},h.createElement(r.j,{text:e.treatment?e.treatment.type:\"\",size:1})),h.createElement(l.y,{id:(e.patient||new l.t)._id}),h.createElement(l.w,{id:(e.patient||new l.t)._id}),e.operatingStaff.map(e=>h.createElement(\"div\",{key:e._id,className:\"m-t-5 fs-11\"},h.createElement(u.a,{iconName:\"Contact\"}),\" \",e.name)))))))),this.appointment?h.createElement(r.a,{key:\"ae\",loader:()=>n.b(this,void 0,void 0,function*(){const e=(yield a.e(2).then(a.bind(null,271))).AppointmentEditorPanel;return h.createElement(e,{appointment:this.appointment,onDismiss:()=>this.appointment=null,onDelete:()=>this.appointment=null})})}):\"\")}findPos(e){let t=0;if(e&&e.offsetParent){do{t+=e.offsetTop}while(e=e.offsetParent);return t-70}return 0}};n.c([s.k],p.prototype,\"filter\",void 0),n.c([s.k],p.prototype,\"appointment\",void 0),n.c([s.k],p.prototype,\"showAll\",void 0),p=n.c([i.a],p)}}]);","extractedComments":[]}