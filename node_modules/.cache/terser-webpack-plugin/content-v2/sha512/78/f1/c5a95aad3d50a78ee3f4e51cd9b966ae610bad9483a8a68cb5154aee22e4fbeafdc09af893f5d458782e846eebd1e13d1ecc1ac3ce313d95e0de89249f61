{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{655:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"StatisticsPage\",function(){return d});var a=n(0),l=n(6),c=n(3),m=n(10),s=n(4),r=n(2),i=n(8),o=n(173),b=n(169),p=n(1);let d=class extends p.Component{constructor(){super(...arguments),this.appointment=null,this.charts=[m.L,m.U,m.Ib,m.ab,m.V,m.Gb,m.bb,m.J]}render(){return p.createElement(\"div\",{className:\"sc-pg p-15 p-l-10 p-r-10\"},p.createElement(l.d,{maxItemsOnLoad:20,className:\"appointments-data-table\",heads:[Object(c.z)(\"Appointment\"),Object(c.z)(\"Treatment\"),Object(c.z)(\"Paid\"),Object(c.z)(\"Outstanding\"),Object(c.z)(\"Expenses\"),Object(c.z)(\"Profits\")],rows:m.Bb.selectedAppointments.map(e=>({id:e._id,searchableString:e.searchableString,cells:[{dataValue:(e.patient||new m.t).name,component:p.createElement(l.i,{secondaryElement:p.createElement(\"span\",null,Object(s.j)(e.date,m.xb.getSetting(\"date_format\")),\" \",\"/\",\" \",e.operatingStaff.map(e=>p.createElement(\"i\",{key:e._id},e.name,\" \"))),name:(e.patient||new m.t).name,size:3}),onClick:()=>{this.appointment=e},className:\"no-label\"},{dataValue:e.treatmentID,component:p.createElement(l.j,{text:e.treatment?e.treatment.type:\"\",subText:Object(s.j)(e.date,m.xb.getSetting(\"date_format\")),size:3,onClick:()=>{}}),className:\"hidden-xs\"},{dataValue:e.paidAmount,component:p.createElement(\"span\",null,m.xb.getSetting(\"currencySymbol\")+Object(s.s)(e.paidAmount).toString()),className:\"hidden-xs\"},{dataValue:e.outstandingAmount,component:p.createElement(\"span\",null,m.xb.getSetting(\"currencySymbol\")+Object(s.s)(e.outstandingAmount).toString()),className:\"hidden-xs\"},{dataValue:e.expenses,component:p.createElement(\"span\",null,m.xb.getSetting(\"currencySymbol\")+Object(s.s)(e.expenses).toString()),className:\"hidden-xs\"},{dataValue:e.profit,component:p.createElement(\"span\",null,m.xb.getSetting(\"currencySymbol\")+Object(s.s)(e.profit).toString()),className:\"hidden-xs\"}]})),farItems:[{key:\"1\",onRender:()=>p.createElement(o.a,{placeholder:Object(c.z)(\"Filter by staff member\"),defaultValue:\"\",options:[{key:\"\",text:Object(c.z)(\"All members\")}].concat(m.zb.list.map(e=>({key:e._id,text:e.name}))),onChange:(e,t)=>{m.Bb.filterByMember=t.key.toString()}})}],hideSearch:!0,commands:[{key:\"2\",onRender:()=>p.createElement(b.a,{onSelectDate:e=>{e&&(m.Bb.startingDate=m.Bb.getDayStartingPoint(e.getTime()))},value:new Date(m.Bb.startingDate),formatDate:e=>`${Object(c.z)(\"From\")}: ${Object(s.j)(e,m.xb.getSetting(\"date_format\"))}`})},{key:\"3\",onRender:()=>p.createElement(b.a,{onSelectDate:e=>{e&&(m.Bb.endingDate=m.Bb.getDayStartingPoint(e.getTime()))},value:new Date(m.Bb.endingDate),formatDate:e=>`${Object(c.z)(\"Until\")}: ${Object(s.j)(e,m.xb.getSetting(\"date_format\"))}`})}]}),this.appointment?p.createElement(l.a,{key:\"ae\",loader:()=>a.b(this,void 0,void 0,function*(){const e=(yield n.e(2).then(n.bind(null,271))).AppointmentEditorPanel;return p.createElement(e,{appointment:this.appointment,onDismiss:()=>this.appointment=null,onDelete:()=>this.appointment=null})})}):\"\",p.createElement(\"div\",{className:\"container-fluid m-t-20 quick\"},p.createElement(l.l,{title:Object(c.z)(\"Quick stats\")},p.createElement(l.k,null,p.createElement(l.c,{sm:6,xs:12},p.createElement(\"label\",null,Object(c.z)(\"Appointments\"),\":\",\" \",p.createElement(l.m,{text:Object(s.s)(m.Bb.selectedAppointments.length).toString(),type:l.o.primary}))),p.createElement(l.c,{sm:6,xs:12},p.createElement(\"label\",null,Object(c.z)(\"Payments\"),\":\",\" \",p.createElement(l.m,{text:m.xb.getSetting(\"currencySymbol\")+Object(s.s)(m.Bb.totalPayments).toString(),type:l.o.warning}))),p.createElement(l.c,{sm:6,xs:12},p.createElement(\"label\",null,Object(c.z)(\"Expenses\"),\":\",\" \",p.createElement(l.m,{text:m.xb.getSetting(\"currencySymbol\")+Object(s.s)(m.Bb.totalExpenses).toString(),type:l.o.danger}))),p.createElement(l.c,{sm:6,xs:12},p.createElement(\"label\",null,Object(c.z)(\"Profits\"),\":\",\" \",p.createElement(l.m,{text:m.xb.getSetting(\"currencySymbol\")+Object(s.s)(m.Bb.totalProfits).toString(),type:l.o.success})))))),p.createElement(\"div\",{className:\"charts container-fluid\"},p.createElement(\"div\",{className:\"row\"},this.charts.map((e,t)=>p.createElement(\"div\",{key:t+e.name,className:\"chart-wrapper \"+(e.className||\"col-xs-12 col-md-5 col-lg-4\")},p.createElement(l.l,{title:Object(c.z)(e.name)},p.createElement(e.Component,null)))))))}};a.c([r.k],d.prototype,\"appointment\",void 0),a.c([r.k],d.prototype,\"charts\",void 0),d=a.c([i.a],d)}}]);","extractedComments":[]}